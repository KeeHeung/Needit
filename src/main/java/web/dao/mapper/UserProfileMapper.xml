<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  
 <mapper namespace="web.dao.face.UserProfileDao">
  
 	<update id="infoUpdate" parameterType="User">
 		UPDATE usertb 
 		SET pw = #{pw}, nick = #{nick}, gender = #{gender}, addr1 = #{addr1}, addr2 = #{addr2}
 		WHERE id = #{id}
 	
 	</update> 
 	
 	
 	<delete id="deleteUser" parameterType="String">
 		DELETE
 		FROM usertb
 		WHERE id = #{id}
 	</delete>
 	
 	<select id="selectBookList" resultType="Booking" parameterType="Booking">
 		SELECT * FROM Booking
 	</select>
  
	
	<insert id="updateImg" parameterType="UserPage">
		<selectKey resultType="int" order="BEFORE" keyProperty="profile_imgno">
    		SELECT user_page_seq.nextval FROM dual
    	</selectKey>
    	INSERT INTO user_page( profile_imgno, origin_name, stored_name, thumbnail_name, file_type)
    	VALUES( #{profileImgNo}, #{originName}, #{storedName}, #{thumbnailName}, #{fileType} )
	
	</insert>


 </mapper>