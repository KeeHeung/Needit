<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="web.dao.face.MainDao">

 	<select id="getStoredName" resultType="Banner" >
		SELECT
			banner_no, origin_name, stored_name, file_type
		FROM (
			SELECT rownum rnum, B.* FROM (
				SELECT * FROM banner
				ORDER BY banner_no DESC
			) B
		)
		WHERE rnum &lt;= 3
 	</select>
 
 	<select id="selectAll" resultType="Board" parameterType="Board">
 		SELECT * FROM 
		    (SELECT rownum rnum, B.* FROM(
			    SELECT * FROM board
			    ORDER BY board_no DESC
		    )B
		)
		WHERE rnum &lt;=4; 
 	</select>
 
 	<select id="selectFileImg" resultType="FileTb" parameterType="FileTb">
    	SELECT stored_name FROM fileTb
    	WHERE board_no = #{boardNo}
 	</select>
 
 </mapper>
  
  